if (self.CavalryLogger) { CavalryLogger.start_js(["iuEHE"]); }

__d("ChatSidebarSections",[],(function(a,b,c,d,e,f){e.exports={ADMINED_PAGES:"admined_pages",MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list",NEARBY:"nearby",WORKPLACE_BOTS:"workplace_bots",WORKPLACE_OTHERS:"workplace_others",PYMM:"pymm",GROUPS:"groups"}}),null);
__d("AsyncLoader",["AsyncRequest","BaseAsyncLoader"],(function(a,b,c,d,e,f){function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))(a).setData({ids:c}).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).send()};e.exports=a}),null);
__d("ChatHovercard",["Arbiter","AsyncLoader","Bootloader","JSLogger","TimeSlice","debounce","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=5,h=new(b("AsyncLoader"))("/ajax/chat/hovercard/sidebar.php","hover"),i=b("JSLogger").create("chat_hovercard");b("Arbiter").subscribe("Hovercard/dirty",h.reset.bind(h));function j(a,c){var d=function(){h.get(a,c)};b("TimeSlice").guard(d,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}function k(a,c){__p&&__p();if(!a)return;j(a,function(d){__p&&__p();b("setTimeoutAcrossTransitions")(function(){__p&&__p();if(!d){i.error("fetch_failure",{id:a});return}b("Bootloader").loadModules(["Hovercard"],function(b){b=b.getDialog(d);if(!b){i.error("no_hovercard",{id:a,endpoint:d});return}a==c.getActiveID()&&c.showHovercard(a,b)},"ChatHovercard")},0)})}function l(a,b){__p&&__p();var c=[];function d(b){b>=0&&b<a.length&&c.push(a[b])}b=a.indexOf(b);if(b>-1){d(b);for(var e=1;e<g;e++)d(b+e),d(b-e)}return c.filter(function(a){return a})}function m(a,c){c=c.getActiveID();if(c){a=a.getShowingUsers();a=l(a,c);j(a,b("emptyFunction"))}}function a(a){var c=a.getHoverController();c.registerDefault(k);c.subscribe("hover",b("debounce")(m.bind(null,a,c),100))}e.exports=a}),null);
__d("ChatOrderedListHover",["csx","ArbiterMixin","CSS","ErrorUtils","Event","LayerHideOnBlur","Parent","mixin","clearTimeout","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){b("CSS").addClass(a,"fetching")}function j(a){b("CSS").removeClass(a,"fetching")}c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this),this._orderedList=a,this._root=a.getRoot(),b("Event").listen(this._root,"mouseover",this._mouseOver.bind(this)),b("Event").listen(this._root,"mouseleave",this._mouseLeave.bind(this)),a.subscribe("click",b("shield")(this._hide,this))}a.prototype._mouseOver=function(event){"use strict";if(this._paused)return;var a=event.getTarget();a=b("Parent").bySelector(a,"._42fz")||b("Parent").bySelector(a,"._5a58");a&&this._setActiveItem(a)};a.prototype._mouseLeave=function(event){"use strict";this._setActiveItem(null)};a.prototype._clearTimeouts=function(){"use strict";this._showTimeout&&b("clearTimeout")(this._showTimeout),this._showTimeout=null,this._hideTimeout&&b("clearTimeout")(this._hideTimeout),this._hideTimeout=null};a.prototype._hide=function(){"use strict";this._showingDialog&&(this._showingDialog.hide(),this._showingDialog=null,this._showingID=null)};a.prototype._show=function(){"use strict";var a=this.getActiveID(),c=!1;this._defaultHandler&&(c=!0,b("ErrorUtils").applyWithGuard(this._defaultHandler,{},[a,this]));c&&this._showingID!=this.getActiveID()&&i(this._activeItem)};a.prototype._setActiveItem=function(a){"use strict";__p&&__p();if(a!=this._activeItem){this._clearTimeouts();this._activeItem&&j(this._activeItem);if(a){this._activeItem=a;a=this._showingDialog?0:600;this._showTimeout=b("setTimeoutAcrossTransitions")(function(){return this._show()}.bind(this),a);this.inform("hover")}else this._activeItem=null,this._hideTimeout=b("setTimeoutAcrossTransitions")(function(){return this._hide()}.bind(this),10),this.inform("leave")}};a.prototype.registerDefault=function(a){"use strict";this._defaultHandler=a};a.prototype.getActiveID=function(){"use strict";var a=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return a||null};a.prototype.showHovercard=function(a,c){"use strict";__p&&__p();if(a==this.getActiveID()&&a!=this._showingID){this._clearTimeouts();j(this._activeItem);this._hide();this._showingDialog=c;this._showingID=a;var d=c.subscribe("mouseenter",this._setActiveItem.bind(this,this._activeItem)),e=c.subscribe("mouseleave",function(){d.unsubscribe(),this._setActiveItem(null)}.bind(this)),f=c.subscribe("hide",function(){this.inform("hovercard_hide"),d.unsubscribe(),e.unsubscribe(),f.unsubscribe()}.bind(this));c.enableBehavior(b("LayerHideOnBlur")).setContext(this._activeItem).setPosition("left").show();this.inform("hovercard_show")}};Object.assign(a.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});e.exports=a}),null);
__d("ChatSidebarConstants",["ChatConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("ChatConfig").get("divebar_rounded_profile",!1),h={IMAGE_SIZE:32,getImageSize:function(){return h.IMAGE_SIZE+(g?2:0)},getItemHeight:function(){return h.IMAGE_SIZE+8}};e.exports=h}),null);
__d("ChatSidebarCreateNewGroupItem.react",["ix","cx","fbt","Bootloader","ChatConfig","Image.react","Link.react","React","TooltipData","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","MessengerGCFJewelNewGroupButtonInit"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d).setSidebarSection("groups").log(),b.onLinkClick()},"ChatSidebarCreateNewGroupItem.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=i._("Create New Group"),c=g("492281"),d=20,e="_55ln"+(b("ChatConfig").get("divebar_rounded_profile",!1)?" _qhr":"");return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("Link.react"),{className:e,href:"#",onClick:this.$2,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},b("React").createElement("div",{className:"_55lq _tt_","aria-hidden":!0},b("React").createElement(b("Image.react"),{className:"_tu0",src:c,width:d,height:d,alt:""})),b("React").createElement("div",{className:"_55lr"},a))))};a.prototype.$1=function(){return i._("Create New Group")};a.propTypes={slot:c.number,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarStatus.react",["cx","cssVar","ix","AvailableListConstants","React","gkx","Image.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=this.renderStatusIcon();if(c===null&&a.statusTime===null)return null;var d=!0;a.unreadCount!=null&&a.unreadCount>0&&(c=a.statusTime!=null?null:c,d=!1);a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&a.isWorkUser&&(d=!1);return b("React").createElement("div",{className:"_568z"+(a.showRelationshipIndicator?" _2oov":"")},d?this.renderLastActiveTime():null,c)};a.prototype.renderStatusIcon=function(){"use strict";__p&&__p();var a=this.props;if(a.isMessengerOnlyContact===!0)return b("React").createElement(b("Image.react"),{className:"_568_",src:i("28076")});else{if(a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&a.isWorkUser)return b("React").createElement("span",{className:"_3zdc"});if(a.status===b("AvailableListConstants").ACTIVE)if(a.showRelationshipIndicator===!0)return b("React").createElement(b("Image.react"),{className:"_568_",src:i("118297")});else if(a.showingPresenceOnProfile===!1)return b("React").createElement("span",{style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}})}return null};a.prototype.renderLastActiveTime=function(){"use strict";return b("React").createElement("div",{className:"_568-"},this.props.statusTime)};function a(){"use strict";j.apply(this,arguments)}e.exports=a}),null);
__d("ErrorMarker.react",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.children}e.exports=a}),null);
__d("expectationViolation",["ErrorMessageConsoleDEVOnly","FBLogger","emptyFunction","sprintf"],(function(a,b,c,d,e,f){"use strict";__p&&__p();f=b("ErrorMessageConsoleDEVOnly").module;d=b("emptyFunction");function a(a){var c;for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(c=b("FBLogger")("expectation_violation").blameToPreviousFrame()).warn.apply(c,[a].concat(e))}a.setHandler=c;function c(a){d=a}e.exports=a}),null);
__d("getReactComponentDisplayName",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.displayName||a.name||"Unknown"}e.exports=a}),null);
__d("getReactElementDisplayName",["getReactComponentDisplayName"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return"#empty";if(typeof a==="string"||typeof a==="number")return"#text";return typeof a.type==="string"?a.type:b("getReactComponentDisplayName")(a.type)}e.exports=a}),null);
__d("ErrorBoundary.react",["ErrorMarker.react","ErrorMessageConsoleDEVOnly","expectationViolation","FBLogger","React","getReactElementDisplayName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("ErrorMessageConsoleDEVOnly").module;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){g.constructor.call(this,a);this.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=this.props.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix;a=b("React").Children.only(this.props.children);this.state={error:null,moduleName:b("getReactElementDisplayName")(a)}}a.prototype.componentDidCatch=function(a){var c=this.state.moduleName?this.state.moduleName:"UNKNOWN";try{b("FBLogger")("react_error_boundary").catching(a).mustfix("caught error in module "+c)}catch(a){b("expectationViolation")("encountered error: "+(a&&a.message)+" when logging to FBLogger.\n        Please check error boundary at module "+c)}try{this.props.onHandleError&&this.props.onHandleError(a,c)}catch(a){b("expectationViolation")("encountered error: "+(a&&a.message)+" when executing\n        onHandleError. Please check error boundary at module "+c)}this.setState({error:a})};a.prototype.componentDidUpdate=function(){if(this.state.error){var a=this.state.moduleName?this.state.moduleName:"UNKNOWN";try{this.props.onRenderFallback&&this.props.onRenderFallback(a)}catch(c){b("expectationViolation")("encountered error: "+(c&&c.message)+" when\n          executing onRenderFallback. please check error boundary at module\n          "+a)}}};a.prototype.render=function(){var a=this.state,c=a.error;a=a.moduleName;if(c){var d=this.props.fallbackComponent,e=null;d&&(e=b("React").createElement(d,{error:c,moduleName:a}));return b("React").createElement(b("ErrorMarker.react"),null,e)}return b("React").Children.only(this.props.children)};a.defaultProps={hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix:!1};e.exports=a}),null);
__d("SplitImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=a.size,d=a.srcs,e=a.border,f=a.style,g=a.className;a=babelHelpers.objectWithoutProperties(a,["size","srcs","border","style","className"]);if(d.length===0)return null;var h=null;switch(d.length){case 1:h=this.$1(d[0],c);break;case 2:h=this.$2(d,c,e);break;default:h=this.$3(d,c,e);break}return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(g,"_55lt"),style:babelHelpers["extends"]({},f,{width:c,height:c})}),h)};a.prototype.$1=function(a,c){"use strict";return b("React").createElement(b("Image.react"),{src:a,width:c,height:c,alt:""})};a.prototype.$2=function(a,c,d){"use strict";var e=Math.floor(c/2),f=-Math.floor(e/2);d="_55lu"+(d?" _57xo":"");return b("React").createElement("div",null,b("React").createElement("div",{className:"_55lu",style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:f},alt:""})))};a.prototype.$3=function(a,c,d){"use strict";var e=Math.floor(c/3*2),f=-Math.floor((c-e)/2),g=Math.floor(c/2),h=c-e,i=-Math.floor((g-h)/2),j="_55lu"+(d?" _57pl":"");d="_55lu"+(d?" _57pm":"");return b("React").createElement("div",null,b("React").createElement("div",{className:j,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[1],width:g,height:g,style:{marginLeft:i},alt:""})),b("React").createElement("div",{className:"_55lu",style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[2],width:g,height:g,style:{marginLeft:i},alt:""})))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("SplitImage.bs",["ReasonReact.bs","SplitImage.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("SplitImage.react"),{size:a,srcs:c,className:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("FantaProfilePresence.bs",["cx","React","SplitImage.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("FantaProfilePresence");function i(a,c,d,e){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],function(){return b("React").createElement("div",{className:"_ro7"},b("ReasonReact.bs").element(0,0,b("SplitImage.bs").make(c,a,["_1gyw"],[])),d?b("React").createElement("div",{className:"_1gyx"}):null)},h[10],h[11],h[12],h[13]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.images,a.imageSize,a.isActive,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("AbstractBadge.react",["cx","invariant","React","formatNumber","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;function j(a){return parseInt(a,10)===a}d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(a){"use strict";i.constructor.call(this,a)}a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=a.count,d=a.maxcount,e=a.label;a=babelHelpers.objectWithoutProperties(a,["count","maxcount","label"]);j(c)||h(0);j(d)||h(0);var f="_51lp"+(c>d?" _51lr":"")+(!this.props.allowZero&&c===0?" hidden_elem":"");e=e?b("React").createElement("span",{className:"accessible_elem","aria-hidden":c?"false":"true"},"\xa0",e):null;c=b("formatNumber").withMaxLimit(c,d);e!==null&&(c=b("React").createElement("span",{"aria-hidden":"true"},c));return b("React").createElement("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,f)}),c,e)};a.propTypes={className:c.string,count:c.number.isRequired,maxcount:c.number,label:c.string};a.defaultProps={maxcount:20};e.exports=a}),null);
__d("XUIBadge.react",["cx","React","AbstractBadge.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.type;a="_5ugh"+(a==="regular"?" _5ugf":"")+(a==="special"?" _5ugg":"");return b("React").createElement(b("AbstractBadge.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),type:null}))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={type:c.oneOf(["regular","special"]),allowZero:c.bool};a.defaultProps={type:"regular"};e.exports=a}),null);
__d("ChatSidebarItem.react",["cx","ix","AvailableListConstants","ChatSidebarStatus.react","XUIBadge.react","BootloadOnRender.react","ChatConfig","ChatSidebarConstants","CurrentUser","ErrorBoundary.react","FantaProfilePresence.bs","Image.react","JSResource","LazyComponent.react","Link.react","React","TextWithEmoticons.react","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("FantaProfilePresence.bs").jsComponent;c=b("React").PropTypes;var k=b("ChatConfig").get("divebar_rounded_profile",!1),l=9,m=function(){return b("React").createElement(b("Link.react"),{"aria-hidden":!0,tabIndex:-1})};d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={hover:!1},this.$1=function(){this.setState({hover:!0}),this.props.onMouseEnter()}.bind(this),this.$2=function(){this.setState({hover:!1})}.bind(this),b}a.prototype.render=function(){var a="_55ln"+(this.props.context?" _55lo":"")+(k?" _qhr":""),c=this.props.nameCanHaveEmoji?b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name}):this.props.name;return b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:m},b("React").createElement(b("Link.react"),{className:a,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$1,onMouseLeave:this.$2,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},this.$3(),b("React").createElement("div",{className:"_5bon"},this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),b("React").createElement("div",{className:"_55lr"},this.props.isPlayingGame&&this.props.userID&&b("gkx")("AT6u73YzhSbtwfTvGI_dUkCDWV1VMa7c035xhh1qNzWWNDuWfna3ikNNGOjtL2adauohv1GFlwZ9RrqzMEpZG7gY")?this.renderNameWithGameInfo(c,this.props.userID):c),b("React").createElement("div",{className:"_55ls"},this.props.context))))};a.prototype.$3=function(){var a=b("ChatConfig").get("presence_on_profile"),c=this.props.imageSize||b("ChatSidebarConstants").IMAGE_SIZE,d=this.props.status===b("AvailableListConstants").ACTIVE,e=this.props.image?[this.props.image]:this.props.images;return b("React").createElement("div",{className:"_55lq"+(a?" _2be2":""),"aria-hidden":!0},b("React").createElement(j,{images:e,imageSize:c,isActive:a&&d}))};a.prototype.renderNameWithGameInfo=function(a,c){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{originalElement:a,userID:c}),loader:b("JSResource")("ChatSidebarItemUserPlayingGameInfoContainer.react").__setRef("ChatSidebarItem.react"),placeholder:this.props.nameCanHaveEmoji?b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name}):b("React").createElement("div",null,this.props.name)})};a.prototype.renderUnreadCount=function(){var a=this.props.unreadCount;return!a?null:b("React").createElement(b("XUIBadge.react"),{count:a,maxcount:l,type:"regular"})};a.prototype.renderStatus=function(){var a=b("ChatConfig").get("presence_on_profile");return b("React").createElement(b("ChatSidebarStatus.react"),{isMessengerOnlyContact:this.props.isMessengerOnlyContact,isDoNotDisturb:this.props.isDoNotDisturb,isWorkUser:b("CurrentUser").isWorkUser(),showingPresenceOnProfile:a,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,unreadCount:this.props.unreadCount,statusTime:this.props.statusTime})};a.prototype.renderWaveButton=function(){if(!this.props.showWave||!this.props.userID)return null;return b("gkx")("AT6dSUFvqaQ48TePPsqJaPxoR89sKDrmnkj9AwTUQGCUAO64e0__lqQVl0pZO8oX1VVITdmuH2Oh5NO1Ry2djFb0")&&!this.state.hover?b("React").createElement("div",null):b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};a.prototype.renderBirthday=function(){if(!this.props.birthday)return null;return b("CurrentUser").isWorkUser()&&!b("gkx")("AT6xZmI2OdSYphpl234QKktFXq5sRz0kw7_B2KSTTJG4l__HXq2R95tfCOGk3WHJAmEbSfznHtUDjqZLC1cYF7k9")?null:b("React").createElement(b("Image.react"),{className:"_5dv3",src:o()})};a.prototype.renderPlayingGame=function(){return this.props.statusTime||this.props.birthday||!this.props.isPlayingGame?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("GamesPresenceIconContainer.react").__setRef("ChatSidebarItem.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{userID:this.props.userID})})};a.defaultProps={onMouseEnter:b("emptyFunction")};a.propTypes={birthday:c.bool,context:c.node,href:c.string,imageSize:c.number,image:c.string,images:c.array,isPlayingGame:c.bool,isMessengerOnlyContact:c.bool,name:c.node.isRequired,nameCanHaveEmoji:c.bool,onClick:c.func,showRelationshipIndicator:c.bool,status:c.number,statusTime:c.string,unreadCount:c.number,userID:c.string,showWave:c.bool};var n=void 0;function o(){n||(n=h("74517"));return n}e.exports=a}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){this.$6=function(a){var c=this.$5;if(c){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(d&&c[d])return c[d]}return this.$2?a.short_name:a.name}.bind(this),this.$1=!1,this.$2=!1,this.$3=!1,this.$4=0,this.$5=null}a.prototype.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};a.prototype.setIsNewThread=function(a){this.$1=a;return this};a.prototype.setNameRenderer=function(a){this.$6=a;return this};a.prototype.setUseShortName=function(a){this.$2=a;return this};a.prototype.setNickname=function(a){this.$5=a;return this};a.prototype.setUseAndSeparator=function(a){this.$3=a;return this};a.prototype.setTotalParticipantCount=function(a){this.$4=a;return this};function h(a){if(a)return g._("New Message");else return g._("No Participants")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} and {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2} and {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} and {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} others"},[g._param("others_count",a,[0])]);else return g._("1 other")}e.exports=a}),null);
__d("ChatSidebarThread.react",["fbt","Bootloader","ChatSidebarItem.react","MercuryIDs","MercuryParticipantListRenderer","WebMessengerThreadPermalinks","React","TooltipData","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=10,j="\n";d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.threadFBID,g=c.totalSlots;f&&b("requireWeak")("FantaTabActions",function(a){a.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(f),["divebar_groups"])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(d).setSidebarSection("groups").log(),f&&b.logClickOpen(this.props.referrer,f)}.bind(this),"ChatSidebarThread.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=this.props.name,c=k(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),d=a?c:undefined,e=this.props.image?[]:l(this.props.participants);a=a?a:c;return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("ChatSidebarItem.react"),{context:d,href:this.props.threadFBID&&b("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:e,name:a,nameCanHaveEmoji:!0,onClick:this.$2,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount,showWave:!1}))};a.prototype.$1=function(){__p&&__p();var a=[],b=this.props.participants.length,c=this.props.numOtherParticipants;b=Math.min(i,b);c-b===1&&b--;var d=0;while(a.length<b&&d<this.props.participants.length){var e=this.props.participants[d].name;e&&a.push(e);d++}b<c&&a.push(g._("and {num} more...",[g._param("num",c-b)]));return a.join(j)};a.propTypes={image:c.string,imageSize:c.number,name:c.string,participants:c.array.isRequired,numOtherParticipants:c.number.isRequired,referrer:c.string,slot:c.number,slotOffset:c.number,status:c.number,threadFBID:c.string,totalSlots:c.number,unreadCount:c.number};a.defaultProps={numOtherParticipants:i};function k(a,c,d){return new(b("MercuryParticipantListRenderer"))().setIsNewThread(!a).setUseShortName(!0).setTotalParticipantCount(d).renderParticipantList(c).toString()}function l(a){return a.map(function(a){return a.image_src}).filter(function(a){return a})}e.exports=a}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarThread.react","ChatSidebarSections","ChatSidebarConstants","MercuryIDs","PresencePrivacy","PresenceStatus","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){var d=a.mercury_thread.participants;d=d.map(function(a){return typeof a==="string"&&b("MercuryIDs").isValid(a)?b("MercuryIDs").getUserIDFromParticipantID(a):a});var e=this.props.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement("li",{className:"_42fz"+(e?" _570-":""),"data-id":a.uid,key:a.uid},b("React").createElement(b("ChatSidebarThread.react"),{image:a.mercury_thread.image_src,imageSize:b("ChatSidebarConstants").getImageSize(),name:a.mercury_thread.name,participants:a.participants_to_render,numOtherParticipants:d.length-1,referrer:b("ChatSidebarSections").ORDERED_LIST,slot:c,slotOffset:this.props.slotOffset,status:b("PresenceStatus").getGroup(d),threadFBID:a.uid,totalSlots:this.props.totalSlots}))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("ul",null,this.props.groups.map(this.$1))};a.propTypes={groups:c.array.isRequired,isDisconnected:c.bool,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_55ob")}),b("React").createElement("div",{className:"_55oc"},this.props.children))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return 50+Math.ceil(50-2*(Math.pow(7+a,2)%10))};a=function(a){return b("React").createElement("li",{className:"_42fz"+(a.isDisconnected?" _570-":"")},b("React").createElement("div",{className:"_55ln"+(a.roundedProfile?" _qhr":"")},b("React").createElement("div",{className:"_55lp"},b("React").createElement("span",{className:"_1qh _55lq"}),b("React").createElement("span",{className:"_55lr"},b("React").createElement("span",{className:"_1qh",style:{width:h(a.slot)+"px"}})))))};e.exports=a}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatSidebarItem.react","MercuryIDs","WebMessengerThreadPermalinks","React","gkx","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.handleMouseEnter=function(){var a=this.props.userID;this.props.onMouseEnter&&this.props.onMouseEnter(a);b("gkx")("AT4T9LO8V3BIOVcGOYPKxxsCiNDzy0HHXFfwezwsUTXaZjtufQoUfjAr_b0uxP3zESohJEtycMUpu9xvYr512cum")&&b("Bootloader").loadModules(["ChatSidebarHoverCardV2","ReactDOM"],function(b,c){return b.show(a,c.findDOMNode(this))}.bind(this),"ChatSidebarUser.react")}.bind(this),this.$1=function(a){var c=this.props,d=c.sectionName,e=c.slot,f=c.slotOffset,g=c.totalSlots,h=c.userID,i=b("MercuryIDs").getThreadIDFromUserID(h);b("requireWeak")("FantaTabActions",function(a){a.openTab(i,["divebar_"+d])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(e).setSidebarSection(d).log(),b.logUserClickOpen(d,h,{global_slot:e})},"ChatSidebarUser.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return b("React").createElement(b("ChatSidebarItem.react"),{onClick:this.$1,onMouseEnter:this.handleMouseEnter,href:a,imageSize:this.props.imageSize,image:this.props.image,isDoNotDisturb:this.props.isDoNotDisturb,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,showWave:this.props.showWave})};a.propTypes={birthday:c.bool,image:c.string,imageSize:c.number,isDoNotDisturb:c.bool,isPlayingGame:c.bool,name:c.string,sectionName:c.string.isRequired,showRelationshipIndicator:c.bool,slot:c.number,slotOffset:c.number,status:c.number,statusTime:c.string,totalSlots:c.number,unreadCount:c.number,userID:c.string.isRequired,isMessengerOnlyContact:c.bool,context:c.string,showWave:c.bool};e.exports=a}),null);
__d("ChatSidebarUserGroup.react",["cx","AvailableListConstants","ChatConfig","ChatSidebarItemPlaceholder.react","ChatSidebarSections","ChatSidebarUser.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("ChatConfig").get("divebar_rounded_profile",!1);c=Object.keys(b("ChatSidebarSections")).map(function(a){return b("ChatSidebarSections")[a]});var i=function(a,c,d){if(!c)return b("React").createElement(b("ChatSidebarItemPlaceholder.react"),{isDisconnected:!!a.isDisconnected,key:"placeholder"+d,roundedProfile:h,slot:d});var e=c.shortProfile;if(!e.id)return null;var f=c.status,g=f!==b("AvailableListConstants").ACTIVE?c.lastActiveTime:undefined,i=a.isDisconnected||!c.presencePrivacyAllows,j=a.sectionName===b("ChatSidebarSections").NEARBY?e.location:undefined,k=b("gkx")("AT5N7c3vp2KZeBLcdLGCkrCGhNAJHtjW4P7Xmlq4tK83K879cfHJ4CNLjdjOGJAQApRspNV8z5qOFgj3xZqsPbN0");return b("React").createElement("li",{className:"_42fz"+(i?" _570-":""),"data-id":e.id,key:e.id},b("React").createElement(b("ChatSidebarUser.react"),{birthday:e.is_birthday,image:e.thumbSrc,imageSize:a.imageSize,isDoNotDisturb:!!a.doNotDisturbMap[e.id],isPlayingGame:!!c.isPlaying,name:e.name,onMouseEnter:a.onMouseEnterItem,roundedProfile:h,showRelationshipIndicator:e.show_relationship_indicator,sectionName:a.sectionName,slot:d,slotOffset:a.slotOffset,status:f,statusTime:g?g.toString():undefined,totalSlots:a.totalSlots,userID:e.id,unreadCount:c.unreadCount,isMessengerOnlyContact:e.is_messenger_only,context:j,showWave:k}))};d=function(a){var c=a.userData,d=babelHelpers.objectWithoutProperties(a,["userData"]);delete d.imageSize;delete d.isDisconnected;delete d.sectionName;return b("React").createElement("ul",d,c.map(function(b,c){return i(a,b,c)}))};d.propTypes={imageSize:a.number.isRequired,isDisconnected:a.bool.isRequired,sectionName:a.oneOf(c).isRequired,slotOffset:a.number,totalSlots:a.number,userData:a.arrayOf(a.object).isRequired,onMouseEnter:a.func,onMouseEnterItem:a.func};e.exports=d}),null);
__d("ChatSidebarUserGroupContainer.react",["invariant","Bootloader","ChatSidebarSections","ChatSidebarStore","ChatSidebarUserGroup.react","CurrentUser","React","clearTimeout","emptyFunction","gkx","onAfterLoadSafe","requireWeak","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=400,j=5e3;d=Object.keys(b("ChatSidebarSections")).map(function(a){return b("ChatSidebarSections")[a]});f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(a){__p&&__p();h.constructor.call(this,a);this.$1={};this.$2=null;this.$3=null;this.$4=null;this.$5=null;this.$7=null;this.$8=null;this.$9=null;this.$14=function(){this.$6||(this.$6=b("setTimeoutAcrossTransitions")(function(){b("requireWeak")("FantaTabsEagerBootloader",function(a){return a.bootload()}),this.$14=b("emptyFunction")}.bind(this),i))}.bind(this);this.$15=function(){b("clearTimeout")(this.$6),this.$6=null}.bind(this);a=b("ChatSidebarStore").getChatSidebarUsersDetailedData(a.ids,a.loadExtras,this.$10.bind(this),this.$11.bind(this));this.state={doNotDisturbMap:{},usersDetailedData:a}}a.prototype.componentDidMount=function(){__p&&__p();b("onAfterLoadSafe")(function(){b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&b("CurrentUser").isWorkUser()&&b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(a,b){this.$7=a,this.$8=b,this.props.ids.forEach(function(b){a.subscribeUser(b,this)}.bind(this)),this.setState({doNotDisturbMap:this.$12(this.props.ids)}),b.fetchUsers(this.props.ids),this.$5=b.addListener(function(){this.setState({doNotDisturbMap:this.$12(this.props.ids)})}.bind(this))}.bind(this),"ChatSidebarUserGroupContainer.react"),b("gkx")("AT65aWKrtJj5OrvMCdm_OgNblUKceQOyajsYMcV9YtzUj3ZHj_aVLY1fm-j6_0V9tLsLzk2inEWuRR4F6LAYYSAr")?this.$9=b("ChatSidebarStore").addListener(function(){this.$13(this.props)}.bind(this)):b("Bootloader").loadModules(["ChatUnreadCountStore","PresenceStatusStore","ShortProfilesStore"],function(a,b,c){this.$2=a.addListener(function(){this.$13(this.props)}.bind(this)),this.$3=b.addListener(function(){this.$13(this.props)}.bind(this)),this.$4=c.addListener(function(){this.$13(this.props)}.bind(this))}.bind(this),"ChatSidebarUserGroupContainer.react")}.bind(this))};a.prototype.shouldComponentUpdate=function(a,b){__p&&__p();for(var c=Object.keys(this.$1),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(this.$1[f])return!1}if(this.props.ids!==a.ids||this.props.imageSize!==a.imageSize||this.props.isDisconnected!==a.isDisconnected||this.props.loadExtras!==a.loadExtras||this.props.sectionName!==a.sectionName||this.state.usersDetailedData.length!==b.usersDetailedData.length)return!0;for(var f=Object.keys(this.state.doNotDisturbMap),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;if(b.doNotDisturbMap[a]!==this.state.doNotDisturbMap[a])return!0}for(var c=Object.keys(b.doNotDisturbMap),a=Array.isArray(c),d=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=c.length)break;e=c[d++]}else{d=c.next();if(d.done)break;e=d.value}f=e;if(b.doNotDisturbMap[f]!==this.state.doNotDisturbMap[f])return!0}for(var e=0;e<this.state.usersDetailedData.length;e++)if(!this.state.usersDetailedData[e]||!b.usersDetailedData[e]||this.state.usersDetailedData[e].shortProfile.id!==b.usersDetailedData[e].shortProfile.id||this.state.usersDetailedData[e].status!==b.usersDetailedData[e].status||this.state.usersDetailedData[e].presencePrivacyAllows!==b.usersDetailedData[e].presencePrivacyAllows||this.state.usersDetailedData[e].lastActiveTime!==b.usersDetailedData[e].lastActiveTime||this.state.usersDetailedData[e].isPlaying!==b.usersDetailedData[e].isPlaying||this.state.usersDetailedData[e].unreadCount!==b.usersDetailedData[e].unreadCount)return!0;return!1};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this;b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&b("CurrentUser").isWorkUser()&&this.$7&&this.$8&&(function(){var b=c.$7,d=b.unsubscribeUser,e=b.subscribeUser;c.$8||g(0);c.$8.fetchUsers(a.ids.filter(function(a){return this.props.ids.indexOf(a)<0}.bind(c)));c.props.ids.forEach(function(a){return d(a,this)}.bind(c));a.ids.forEach(function(a){return e(a,this)}.bind(c))})();this.$13(a)};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.remove(),this.$3&&this.$3.remove(),this.$4&&this.$4.remove(),this.$5&&this.$5.remove(),this.$9&&this.$9.remove()};a.prototype.render=function(){return b("React").createElement(b("ChatSidebarUserGroup.react"),{doNotDisturbMap:this.state.doNotDisturbMap,imageSize:this.props.imageSize,isDisconnected:this.props.isDisconnected,sectionName:this.props.sectionName,onMouseEnter:this.$14,onMouseEnterItem:this.props.onMouseEnterItem,onMouseLeave:this.$15,slotOffset:this.props.slotOffset,totalSlots:this.props.totalSlots,userData:this.state.usersDetailedData})};a.prototype.$13=function(a){a=b("ChatSidebarStore").getChatSidebarUsersDetailedData(a.ids,a.loadExtras,this.$10.bind(this),this.$11.bind(this));this.setState({usersDetailedData:a})};a.prototype.$12=function(a){if(!b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")||!b("CurrentUser").isWorkUser()||!this.$8)return{};var c=this.$8,d={};a.forEach(function(a){d[a]=c.getIsDoNotDisturb(a)});return d};a.prototype.$10=function(a){this.$1[a]===undefined&&(this.$1[a]=b("setTimeoutAcrossTransitions")(function(){this.$1[a]=null,this.$13(this.props)}.bind(this),j))};a.prototype.$11=function(a){var c=this.$1[a];if(!c)return;b("clearTimeout")(c);this.$1[a]=null};a.propTypes={ids:c.arrayOf(c.string).isRequired,imageSize:c.number.isRequired,isDisconnected:c.bool.isRequired,loadExtras:c.bool.isRequired,sectionName:c.oneOf(d).isRequired,slotOffset:c.number,totalSlots:c.number,onMouseEnterItem:c.func};e.exports=a}),null);
__d("MessengerWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",INFO_PANEL_BUTTON:"info_panel_button",STICKER:"sticker",SIDEBAR_ITEM:"sidebar_item"})}),null);
__d("XPagesBrowserController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/",{category:{type:"String"},ref:{type:"String"},cityid:{type:"Int"},similar:{type:"Int"},frompageid:{type:"Int"},actAsPageID:{type:"Int"},source:{type:"String"},pyml:{type:"Int"},viewallpywo:{type:"Bool",defaultValue:!1},notif_id:{type:"Int"}})}),null);
__d("ChatSidebarOrderedList.react",["cx","fbt","ix","AvailableListConstants","Bootloader","BootloadOnRender.react","ChatConfig","ChatOptions","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarConstants","ChatSidebarCreateNewGroupItem.react","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarSections","ChatSidebarUserGroupContainer.react","CurrentUser","CSS","Image.react","LazyComponent.react","JSResource","LeftRight.react","Link.react","MessengerWebDriverTestIDs","PresenceStatus","React","ReactDOM","Run","Scroll","SubscriptionsHandler","URI","WorkInviteSource","WorkModeConfig","XPagesBrowserController","XUIButton.react","XWorkInviteCoworkersDialogController","fbglyph","gkx","ifRequired"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=3;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDisconnected:!1,renderBelowFold:!1},this.$1=null,this.$2=null,this.$3=null,this.$4=null,b}a.prototype.componentDidMount=function(){b("ChatQuietLinks").nukeLinks(b("ReactDOM").findDOMNode(this.refs.noLinks));this.$1=new(b("SubscriptionsHandler"))();var a=this.props.groups.filter(function(a){return b("PresenceStatus").getGroup(a.mercury_thread.participants)===b("AvailableListConstants").ACTIVE});b("Bootloader").loadModules(["MessengerDivebarGroupSectionTypedLogger"],function(c){new c().setNumThreadsGenned(this.props.groups.length).setNewDataSource(b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")).setNumThreadsActive(a.length).setGroupsSectionHidden(b("ChatOptions").getSetting("hide_groups")).setCanSeeMockThread(this.$5()).log()}.bind(this),"ChatSidebarOrderedList.react");b("Run").onAfterLoad(function(){this.setState({renderBelowFold:!0}),this.$6()}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.render=function(){if(this.props.hide){this.$7(!1);return null}var a=this.props.offlineUsers&&this.props.offlineUsers.length>0?this.$8():this.$9();return b("WorkModeConfig").test_group_section_order?b("React").createElement("div",{"data-testid":b("MessengerWebDriverTestIDs").CHAT_SIDEBAR},b("React").createElement("div",{ref:"noLinks"},this.$10()),b("React").createElement("div",{ref:"noLinks"},this.$11()),b("React").createElement("div",{ref:"noLinks"},this.$12(),this.$13(),this.$14()),this.$15(),b("React").createElement("div",{ref:"noLinks"},this.$16(),a,this.$17(),this.$18())):b("React").createElement("div",{"data-testid":b("MessengerWebDriverTestIDs").CHAT_SIDEBAR},b("React").createElement("div",{ref:"noLinks"},this.$10()),b("React").createElement("div",{ref:"noLinks"},this.$11()),b("React").createElement("div",{ref:"noLinks"},this.$13(),this.$14()),this.$15(),b("React").createElement("div",{ref:"noLinks"},this.$16(),this.$12(),a,this.$17(),this.$18()))};a.prototype.$19=function(a){var c=this.props.scrollContainer;if(!c)return;var d=c.clientHeight,e=c.scrollHeight,f=b("Scroll").getTop(c),g=Math.min(a.offsetTop,e-d);f!==g&&b("ifRequired")("Animation",function(a){var b=Math.abs(g-f)/c.clientHeight*500;new a(c).to("scrollTop",g).ease(a.ease.end).duration(b).go()},function(){b("Scroll").setTop(c,g)})};a.prototype.$13=function(){if(!b("ChatConfig").get("show_header")&&!b("WorkModeConfig").test_group_section_order)return null;var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{className:a?"_570-":"",key:"header"},h._("CONTACTS"))};a.prototype.$8=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.offlineUsers;c.splice(-2);var d=b("React").createElement("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog"},h._("Edit")),e=b("WorkModeConfig").is_work_user?h._("MORE COWORKERS"):h._("MORE CONTACTS");d=b("WorkModeConfig").is_work_user?h._("These coworkers can't see you on chat. {=link}",[h._param("=link",d)]):h._("These contacts can't see you on chat. {=link}",[h._param("=link",d)]);return[b("React").createElement(b("ChatSidebarHeader.react"),{key:"usersSeparator1"},e),b("React").createElement(b("ChatSidebarHeader.react"),{className:"_5j9-",key:"usersSeparator2"},d),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:c,isDisconnected:this.state.isDisconnected,imageSize:a,key:b("ChatSidebarSections").OFFLINE_USERS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").OFFLINE_USERS,slotOffset:this.$20(),totalSlots:this.props.maxItemSlots,onMouseEnterItem:this.props.onMouseEnterItem})]};a.prototype.$9=function(){__p&&__p();if(this.props.availableUsers.length===0)return null;if(!this.state.renderBelowFold){var a=b("ChatSidebarConstants").getItemHeight();return[b("React").createElement("div",{key:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,style:{height:a*this.props.availableUsers.length}})]}a=b("ChatSidebarConstants").getImageSize();var c=b("WorkModeConfig").is_work_user?h._({"*":"{MORE ONLINE COWORKERS} ({=count})"},[h._param("MORE ONLINE COWORKERS",h._("MORE COWORKERS")),h._param("=count",this.props.availableUsers.length,[0])]):h._({"*":"{MORE ONLINE CONTACTS} ({=count})"},[h._param("MORE ONLINE CONTACTS",h._("MORE CONTACTS")),h._param("=count",this.props.availableUsers.length,[0])]);a=b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:a,isDisconnected:this.state.isDisconnected,key:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,slotOffset:this.$20(),totalSlots:this.props.maxItemSlots,onMouseEnterItem:this.props.onMouseEnterItem});return[b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$4=a}.bind(this),key:"usersSeparator",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$4))}.bind(this)},c),a]};a.prototype.$20=function(){var a=this.$21();a+=this.$22();var b=this.$23();a+=this.$24(b.length);return a};a.prototype.$15=function(){return!b("ChatConfig").get("nearby_friends_www_chatbar")||this.props.nearby.length===0?null:b("React").createElement(b("ChatSidebarHeader.react"),{ref:"nearbySeparator",key:"nearbySeparator"},b("React").createElement(b("LeftRight.react"),null,h._("NEARBY"),b("React").createElement(b("Link.react"),{target:"_blank",href:new(b("URI"))("/help/android-app/291236034364603")},b("React").createElement(b("Image.react"),{className:"_3-90",src:i("129548")}))))};a.prototype.$16=function(){__p&&__p();if(!b("ChatConfig").get("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var a=this.$21();if(b("WorkModeConfig").test_group_section_order){var c=this.$23();a+=this.$24(c.length)}c=b("ChatSidebarConstants").getImageSize();var d=this.props.nearby;return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{key:b("ChatSidebarSections").NEARBY,ids:d,isDisconnected:this.state.isDisconnected,imageSize:c,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").NEARBY,slotOffset:a,totalSlots:this.props.maxItemSlots,onMouseEnterItem:this.props.onMouseEnterItem})};a.prototype.$22=function(){return this.props.nearby.length};a.prototype.$12=function(){var a=this.state.isDisconnected||this.props.isUserOffline,c=this.$23(),d=0;b("WorkModeConfig").test_group_section_order||(d+=this.$21(),d+=this.$22());if(this.$5())return[this.$25(),b("React").createElement("ul",{key:"unorderedList"},b("React").createElement("li",{className:"_42fz"+(a?" _570-":""),key:0},b("React").createElement(b("ChatSidebarCreateNewGroupItem.react"),{slot:0,slotOffset:d,totalSlots:this.props.maxItemSlots})))];else if(b("ChatOptions").getSetting("hide_groups")||this.props.groups.length===0)return null;return[this.$25(),b("React").createElement(b("ChatSidebarGroupThreadsGroup.react"),{groups:c.slice(0,this.$24(c.length)),isDisconnected:this.state.isDisconnected,key:"group_threads_section",loadExtras:this.state.renderBelowFold,slotOffset:d,totalSlots:this.props.maxItemSlots})]};a.prototype.$25=function(){var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$2=a}.bind(this),key:"groupSeparator",className:a?"_570-":"",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$2))}.bind(this)},h._("GROUP CONVERSATIONS"))};a.prototype.$23=function(){var a=this.state.isDisconnected||this.props.isUserOffline;return!a&&b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")?this.props.groups.sort(function(a,c){return b("PresenceStatus").getGroup(c.mercury_thread.participants)-b("PresenceStatus").getGroup(a.mercury_thread.participants)}):this.props.groups};a.prototype.$24=function(a){if(this.$5())return 1;else if(a===0)return 0;return b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")?Math.min(a,b("ChatConfig").get("num_groups_to_show")):a};a.prototype.$14=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.topUsers,d=0;if(b("WorkModeConfig").test_group_section_order){var e=this.$23();d+=this.$24(e.length)}return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{key:b("ChatSidebarSections").ORDERED_LIST,ids:c,isDisconnected:this.state.isDisconnected,imageSize:a,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").ORDERED_LIST,slotOffset:d,totalSlots:this.props.maxItemSlots,onMouseEnterItem:this.props.onMouseEnterItem})};a.prototype.$21=function(){return this.props.topUsers.length};a.prototype.$18=function(){__p&&__p();if(!b("ChatConfig").get("work_show_invites"))return null;var a=this.state.isDisconnected||this.props.isUserOffline;if(a){this.props.workWelcomeOverlay&&this.$7(!1);return null}a=this.props.availableUsers.length===0&&this.props.topUsers.length===0&&this.props.workOthers.length===0&&this.props.groups.length===0;var c=null;this.props.workWelcomeOverlay?b("CurrentUser").isWorkUser()&&this.$7(a):a&&(c=b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("Image.react"),{className:"_3-8z",src:i("286109")}),b("React").createElement("h3",{className:"_3-8k"},h._("Reach anyone instantly")),b("React").createElement("div",{className:"_3-8k _5-km"},h._("Invite coworkers to see them here as chat contacts."))));a=b("XWorkInviteCoworkersDialogController").getURIBuilder().setEnum("source",b("WorkInviteSource").WWW_CHAT_SIDEBAR).getURI();var d=h._("Invite coworkers");return b("React").createElement("div",{className:"_5-kn"},c,b("React").createElement(b("XUIButton.react"),{className:"_3-8i _2w3v ellipsis",label:d,use:"confirm",size:"large",href:"#",ajaxify:a,rel:"dialog"}))};a.prototype.$11=function(){if(!this.props.pymmList)return null;var a=this.props.pymmList.pages;return!this.props.isSidebar||!b("ChatConfig").get("show_businesses")||!a||a.length===0?null:[b("React").createElement(b("BootloadOnRender.react"),{key:"bootloader",loader:b("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarOrderedList.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{key:"pymm_container",pymmList:a})})]};a.prototype.$10=function(){if(b("gkx")("AT4Aq9ewKIFTl67cxoDAodIE6NOyKQZWxOTK7vUN4WSVpVwOKKYWwQCOkB7MMU0feig4qnlFrIZeyqu4hV61bOjlQn8Q2DP89kXsLrKS2wNNWQ")||!b("ChatConfig").get("show_admined_pages")||this.props.adminedPages.length===0||!this.props.pageListModule)return null;var a=null;if(this.props.adminedPages.length>=k){var c=b("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",this.props.adminedPages[0].ref).getURI();a=b("React").createElement(b("Link.react"),{className:"_2l56",href:c,target:"_blank"},h._("SEE ALL"))}c=this.props.pageListModule;return[b("React").createElement(b("ChatSidebarHeader.react"),{className:"_4kqp",key:b("ChatSidebarSections").ADMINED_PAGES},b("React").createElement(b("LeftRight.react"),null,h._("YOUR PAGES"),a)),b("React").createElement(c,{adminedPages:this.props.adminedPages,onMouseEnter:this.props.onMouseEnterItem,key:"pages_section"})]};a.prototype.$17=function(){if(!b("WorkModeConfig").is_work_user||this.props.workOthers.length===0)return null;var a=b("ChatSidebarConstants").getImageSize(),c=h._("{OTHERS} ({count})",[h._param("OTHERS",h._("OTHERS")),h._param("count",this.props.workOthers.length)]);a=b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.workOthers,imageSize:a,isDisconnected:this.state.isDisconnected,key:b("ChatSidebarSections").WORKPLACE_OTHERS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").WORKPLACE_OTHERS,onMouseEnterItem:this.props.onMouseEnterItem});return b("React").createElement("div",null,b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$3=a}.bind(this),key:"othersSeparator",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$3))}.bind(this)},c),a)};a.prototype.$6=function(){b("Bootloader").loadModules(["ChannelConnection"],function(a){this.$1.addSubscriptions(a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],function(){var c=a.disconnected();c!==this.state.isDisconnected&&(c?b("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT():b("ChatReliabilityInstrumentation").logCHANNEL_CONNECT(),this.setState({isDisconnected:c}))}.bind(this)))}.bind(this),"ChatSidebarOrderedList.react")};a.prototype.$5=function(){return this.props.groups.length===0&&b("gkx")("AT5TWxfoyJTuU3Tr-O8sY_Gkxvimm2rPLn9ZsAsusyJiAYq-zLKg2_7_eMccMJTI9qOx7gwISC6rrsGtqpWk_uDLins6TCNHhi73ZUmc4ebtyg")&&!b("ChatOptions").getSetting("hide_groups")};a.prototype.$7=function(a){this.props.workWelcomeOverlay&&(a?b("CSS").show(this.props.workWelcomeOverlay):b("CSS").hide(this.props.workWelcomeOverlay))};a.propTypes={availableUsers:c.array.isRequired,workOthers:c.array.isRequired,groups:c.array.isRequired,scrollContainer:c.object,topUsers:c.array.isRequired,nearby:c.array.isRequired,adminedPages:c.array.isRequired,pageListModule:c.func,pymmList:c.object.isRequired,isSidebar:c.bool,workWelcomeOverlay:c.object,maxItemSlots:c.number,onMouseEnterItem:c.func,offlineUsers:c.array.isRequired,isUserOffline:c.bool,hide:c.bool};e.exports=a}),null);
__d("MessengerDivebarSizingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setMaxItemSlots=function(a){this.$1.max_item_slots=a;return this};a.prototype.setNumAdminedPages=function(a){this.$1.num_admined_pages=a;return this};a.prototype.setNumGroups=function(a){this.$1.num_groups=a;return this};a.prototype.setNumNearby=function(a){this.$1.num_nearby=a;return this};a.prototype.setNumPymm=function(a){this.$1.num_pymm=a;return this};a.prototype.setNumRecents=function(a){this.$1.num_recents=a;return this};a.prototype.setNumTopFriends=function(a){this.$1.num_top_friends=a;return this};a.prototype.setNumTopFriendsShown=function(a){this.$1.num_top_friends_shown=a;return this};a.prototype.setSidebarType=function(a){this.$1.sidebar_type=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={max_item_slots:!0,num_admined_pages:!0,num_groups:!0,num_nearby:!0,num_pymm:!0,num_recents:!0,num_top_friends:!0,num_top_friends_shown:!0,sidebar_type:!0};e.exports=a}),null);
__d("ChatOrderedList",["csx","Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","Bootloader","ChatConfig","ChatHovercard","ChatOptions","ChatOrderedListHover","ChatSidebarConstants","ChatSidebarOrderedList.react","ChatSidebarPreloadStore","ChatSidebarStore","CSS","DataStore","DOM","Event","JSLogger","MercuryParticipantTypes","MessengerDivebarSizingTypedLogger","onAfterDisplay","Parent","PresenceOrderedList","PresencePrivacy","React","ReactDOM","ShortProfilesStore","SidebarType","WorkModeConfig","debounceAcrossTransitions","gkx","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));h=c&&c.prototype;function a(a,c,d){"use strict";__p&&__p();h.constructor.call(this),this._workWelcomeOverlay=d,this._root=c,this._isVisible=!1,this._excludedIds={},this._numTopFriends=5,this._adminedPages=[],this._pageListModule=null,this._pymmList={config:null,pages:[]},this._groups=[],this._nearby=[],this._hoverController=null,this._isHovering=!1,this._skippedRenderDuringHover=!1,this._isSidebar=a,this._maxItemSlots=0,this._orderedList=b("DOM").find(this._root,".fbChatOrderedList"),b("Event").listen(this._orderedList,"mouseover",function(){this._isHovering=!0}.bind(this)),b("Event").listen(this._orderedList,"mouseout",function(){this._isHovering=!1,this._skippedRenderDuringHover&&(this._skippedRenderDuringHover=!1,this._render())}.bind(this)),this._scrollableOrderedList=b("Parent").byClass(this._root,"scrollableOrderedList"),this._scrollableArea=b("Parent").byClass(this._root,"scrollable"),a&&new(b("ChatHovercard"))(this),b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){this.getSortedList(function(a){c.chat_lists=c.chat_lists||{sorted_list:a,available_list:b("PresenceOrderedList").getAvailableSorted(),excluded_list:this._excludedIds}}.bind(this))}.bind(this)),b("gkx")("AT6TwEfyE3S3vuj5vzRrcHEi-HcoHeZ6vee22bU63x8bdHsLirNM3h1OMH1kyUhz92T9lqrOtqys1ni5dEuGQ43h")?b("onAfterDisplay")(function(){b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return this._render()}.bind(this)),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this._render()}.bind(this))}.bind(this)):(b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return this._render()}.bind(this)),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this._render()}.bind(this)))}a.prototype.getShowingUsers=function(){"use strict";return b("DOM").scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode)};a.prototype.getUserForNode=function(a){"use strict";return b("DataStore").get(a,"id")||b("DataStore").get(a,"serverthreadid")};a.prototype.getHoverController=function(){"use strict";this._hoverController||(this._hoverController=new(b("ChatOrderedListHover"))(this));return this._hoverController};a.prototype.getItemHeight=function(){"use strict";return b("ChatSidebarConstants").getItemHeight()};a.prototype.getRoot=function(){"use strict";return this._root};a.prototype.getSortedList=function(a){"use strict";b("PresenceOrderedList").getSorted(this._numTopFriends,function(b){return a(b)})};a.prototype.hide=function(){"use strict";if(!this._isVisible)return;this._isVisible=!1;b("CSS").hide(this._scrollableOrderedList||this._root);this.inform("hide")};a.prototype.setNumTopFriends=function(a,c,d){"use strict";__p&&__p();b("ChatSidebarPreloadStore").onLoaded(function(e){__p&&__p();var f=e.groups,g=e.nearby,h=e.adminedPages,i=e.pageListModule;e=e.pymmList;var j=new(b("MessengerDivebarSizingTypedLogger"))();j.setMaxItemSlots(a).setSidebarType(d);a--;b("ChatConfig").get("show_header")&&a--;var k=b("gkx")("AT6ezxCFIuDr3f155YU0cVompttkL6-4ye5A4xnJR5wWiQ5IOmLV0d94XM9VgwajF9248OtJTIz0cnvOn5PCMW2_"),l=!b("ChatOptions").getSetting("hide_businesses")&&e.pages;k&&l&&(a-=3);h=b("ChatOptions").getSetting("hide_admined_pages")?[]:h;k&&h.length&&(a-=h.length+1);this._maxItemSlots=a;k=a;var m=b("ChatOptions").getSetting("hide_groups")?[]:f;l=l?e:{config:null,pages:[]};e=Math.min(m.length,b("ChatConfig").get("num_groups_to_show"));e===0&&b("gkx")("AT5TWxfoyJTuU3Tr-O8sY_Gkxvimm2rPLn9ZsAsusyJiAYq-zLKg2_7_eMccMJTI9qOx7gwISC6rrsGtqpWk_uDLins6TCNHhi73ZUmc4ebtyg")&&!b("ChatOptions").getSetting("hide_groups")&&e++;e>0&&(k-=e+1);b("ChatConfig").get("nearby_friends_www_chatbar")&&g.length>0&&(k-=g.length+1);b("ChatConfig").get("show_admined_pages")&&h.length>0&&(k-=h.length+1);b("ChatConfig").get("show_businesses")&&l.pages.length>0&&(k-=2);e=k;k=Math.min(a,Math.max(k,b("ChatConfig").get("min_top_friends")||0));if(k!==this._numTopFriends||m.length!==this._groups.length||g.length!==this._nearby.length||h.length!==this._adminedPages.length||l.pages.length!==this._pymmList.pages.length){this._groups=m;this._numTopFriends=k;this._nearby=g;this._adminedPages=h;this._pageListModule=i;this._pymmList=l;j.setNumTopFriends(k).setNumNearby(g.length).setNumGroups(f.length).setNumAdminedPages(h.length).setNumPymm(l.pages.length);m=0;d===b("SidebarType").BUDDYLIST&&h.length>0&&(m+=h.length+1,j.setNumAdminedPages(0));d===b("SidebarType").BUDDYLIST&&l.pages.length>0&&(j.setNumPymm(0),m+=2);e+=m;k>e&&(e+=1);j.setNumTopFriendsShown(Math.max(e,0));b("ChatSidebarStore").getVisibleType()===d&&j.log();c?(typeof this._render.reset==="function"&&this._render.reset(),this._renderOrderedList()):this._render()}}.bind(this))};a.prototype._renderOrderedList=function(){"use strict";__p&&__p();if(!this._isVisible||this._isHovering){this._isHovering&&(this._skippedRenderDuringHover=!0);return}b("PresenceOrderedList").getSorted(this._numTopFriends,function(a){__p&&__p();var c=b("WorkModeConfig").is_work_user?b("PresenceOrderedList").getAllSorted(a.concat(this._nearby)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return!a||a.type===b("MercuryParticipantTypes").FB4C}):b("PresenceOrderedList").getAvailableSorted(a.concat(this._nearby)),d=b("WorkModeConfig").is_work_user?b("PresenceOrderedList").getAllSorted(a.concat(this._nearby)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return a&&a.type!==b("MercuryParticipantTypes").FB4C}):[];a=a.filter(function(a){return!this._nearby||this._nearby.indexOf(a)===-1}.bind(this));var e=b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?this._nearby.filter(function(a){return b("PresencePrivacy").allows(a)}):this._nearby,f=b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?a.filter(function(a){return b("PresencePrivacy").allows(a)}):a;a=b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getVisibility()?a.filter(function(a){return!b("PresencePrivacy").allows(a)}):[];b("ReactDOM").render(b("React").createElement(b("ChatSidebarOrderedList.react"),{availableUsers:c,workOthers:d,scrollContainer:this._scrollContainer,topUsers:f,groups:this._groups,nearby:e,adminedPages:this._adminedPages,pageListModule:this._pageListModule,pymmList:this._pymmList,isSidebar:this._isSidebar,workWelcomeOverlay:this._workWelcomeOverlay,maxItemSlots:this._maxItemSlots+1,offlineUsers:a,isUserOffline:b("PresencePrivacy").isUserOffline()}),this._orderedList);this.inform("render")}.bind(this))};a.prototype._render=function(){"use strict";this._render=b("debounceAcrossTransitions")(this._renderOrderedList.bind(this),300),this._render()};a.prototype.show=function(){"use strict";if(this._isVisible)return;this._isVisible=!0;b("CSS").show(this._scrollableOrderedList||this._root);this._render();this.inform("show")};a.prototype.isVisible=function(){"use strict";return this._isVisible};a.prototype.setScrollContainer=function(a){"use strict";b("DOM").contains(a,this._root)&&(this._scrollContainer=a)};e.exports=a}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={Component:null},this.$2=function(a){a=this.state.interactionType==="click"?"click":a.type;this.setState({interactionType:a},function(){b("promiseDone")(this.props.loader.load(),function(a){this.props.takeOverRender?this.props.takeOverRender(function(){return this.$1(a)}.bind(this)):this.$1(a)}.bind(this))}.bind(this))}.bind(this),this.$3=function(a){this.setState({Component:a})}.bind(this),this.$4=function(a){this.state.interactionType!=="click"&&this.setState({interactionType:undefined})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$3)};a.prototype.componentWillUnmount=function(){this.$1.cancel()};a.prototype.render=function(){__p&&__p();var a={onFocus:this.$2,onMouseOver:this.$2,onClick:this.$2,onBlur:this.$4};if(!this.state.Component)return b("React").cloneElement(this.props.placeholder,a);a=this.state.Component;var c={};switch(this.state.interactionType){case"focus":c.autoFocus=!0;break;case"click":c.clicked=!0;break}return b("React").cloneElement(this.props.component,babelHelpers["extends"]({},c,{LazyLoadedComponent:a}))};e.exports=a}),null);
__d("ChatTypeaheadCore",["csx","cx","fbt","Bootloader","DOM","React","ReactDOM","BootloadOnRender.react","MercuryBootloadOnInteraction.react","JSResource","LazyComponent.react","emptyFunction","ge","gkx","onAfterDisplay"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg")?b("MercuryBootloadOnInteraction.react"):b("BootloadOnRender.react"),k="",l=[],m={search:"._58al",settings:"._5vmb",compose:"._5q85",groupcreate:"._1-4-"},n=!1,o=b("emptyFunction");a={_handleInteraction:function(a,c){if(!b("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg"))return;l.push(a);a==="search"&&(k=c?c:"")},_handleCompositionStart:function(){n=!0},_handleCompositionEnd:function(){n=!1,o(),o=b("emptyFunction")},takeOverRender:function(a){!n?a():o===b("emptyFunction")&&(o=a)},processInteractionsQueue:function(){l.forEach(function(a){if(!m[a])return;var c=b("DOM").scry(b("ge")("chatsearch"),m[a]);c&&c[0]&&(a!=="search"&&c[0].click(),c[0].focus())})},getLastSearchQuery:function(){return k},deferRenderChatSidebarSheet:function(){b("onAfterDisplay")(function(){b("Bootloader").loadModules(["ChatSidebarSheet.react"],function(a){var c=b("ge")("chatsidebarsheet");b("ReactDOM").render(b("React").createElement(a,{className:"fbChatSidebarMessage"}),c)},"ChatTypeaheadCore")})},init:function(a,c,d){b("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg")&&this.deferRenderChatSidebarSheet(),b("ReactDOM").render(b("React").createElement("div",null,b("React").createElement("div",{id:"chatsidebarsheet"}),b("React").createElement(j,{loader:b("JSResource")("ChatTypeaheadWrapper.react").__setRef("ChatTypeaheadCore"),placeholder:b("React").createElement("div",null,b("React").createElement("div",{className:"_5iwm _5iwn _62it"},b("React").createElement("label",{className:"_58ak"},b("React").createElement("input",{className:"_58al",type:"text",onChange:function(event){return this._handleInteraction("search",event.target.value)}.bind(this),onCompositionStart:this._handleCompositionStart,onCompositionEnd:this._handleCompositionEnd,placeholder:i._("Search")}))),d?b("React").createElement("div",{className:"_531b"},b("React").createElement("div",{className:"_5qth _6a _6e"},b("React").createElement("a",{href:"#",className:"button _5vmb",onClick:function(){return this._handleInteraction("settings")}.bind(this)})),b("React").createElement("a",{href:"#",className:"_3a-4 _5q85",onClick:function(){return this._handleInteraction("compose")}.bind(this)}),b("React").createElement("div",{className:"_46fv"},b("React").createElement("a",{href:"#",className:"_1-4-",onClick:function(){return this._handleInteraction("groupcreate")}.bind(this)}))):null),takeOverRender:this.takeOverRender,component:b("React").createElement(b("LazyComponent.react"),{id:c,isSidebar:d})})),a)}};e.exports=a}),null);